# 图表更新总结 / Plot Update Summary

## 📊 什么是双轴图表？

双轴图表 (Dual Axis Plot) 是一种在同一个图表中展示两个不同物理量的方法：
- **左Y轴 (蓝色)**: 摩擦系数 μ (Friction Coefficient)
- **右Y轴 (红色)**: 摩擦力 F (Friction Force)

这样做的好处是：
✓ 在一个图表中展示两个重要物理量
✓ 便于比较和分析两者之间的关系
✓ 保持图表简洁，易于阅读

---

## 📈 三个更新的图表

### 图表 1: 摩擦系数 vs 法向力 (`mu_vs_normal_force.png`)
**目的**: 展示摩擦系数和摩擦力如何随着法向力（通过增加质量）变化

**左Y轴 (μ)**: 
- 显示为柱状图 (Bar Chart)
- 不同颜色代表不同材料
- 不同宽度位置代表不同的Block配置

**右Y轴 (F)**:
- 显示为虚线+圆点 (Dashed Line with Circles)
- 与左轴μ对齐，便于直观比较

**X轴**: Block Configuration (B, B+1, B+1+2, B+1+2+3, B+1+2+3+4)

---

### 图表 2: 摩擦系数 vs 电压 (`mu_vs_voltage.png`)
**目的**: 展示摩擦系数和摩擦力如何随着电压变化

**左Y轴 (μ)**:
- 显示为实线+圆点 (Solid Line with Circles)
- 三条线代表三种材料

**右Y轴 (F)**:
- 显示为虚线+方块 (Dashed Line with Squares)
- 与左轴对齐

**X轴**: 电压 (5V, 7V, 9V, 11V)

---

### 图表 3: 摩擦系数 vs 接触面积 (`mu_vs_area.png`)
**目的**: 比较小面积和大面积下的摩擦性能

**左Y轴 (μ)**:
- 显示为两组柱状图 (小面积和大面积)
- 使用图例区分

**右Y轴 (F)**:
- 显示为虚线+圆点
- 对应小面积和大面积

**X轴**: 材料类型 (Stahl, Polyethylen, Polyisopren)

---

## 🎨 颜色编码 (Color Scheme)

所有图表中使用一致的颜色：

| 材料 | 英文 | 颜色 | 十六进制 |
|------|------|------|---------|
| Stahl | Steel | 🔵 蓝色 | #1f77b4 |
| Weiss (Polyethylen) | Polyethylene | 🟠 橙色 | #ff7f0e |
| Schwarz (Polyisopren) | Polyisoprene | 🟢 绿色 | #2ca02c |

---

## 📏 误差棒 (Error Bars)

所有图表中的垂直误差棒表示测量的不确定度：
- **μ 的误差**: 源自摩擦力和法向力的测量误差
- **F 的误差**: 直接来自实验数据的范围

---

## 💡 使用建议

1. **如何阅读双轴图表**:
   - 看蓝色(左轴)了解μ的变化趋势
   - 看红色(右轴)了解F的变化趋势
   - 对比两者找出相关性

2. **颜色一致性**:
   - 所有三个图表中，相同材料使用相同的颜色
   - 这便于进行跨图表的比较

3. **误差分析**:
   - 误差棒长度反映了测量精度
   - 更短的误差棒表示更精确的测量

---

## 🔧 技术细节

**使用的技术**:
- `matplotlib.twinx()`: 创建第二个Y轴
- `pandas.groupby()`: 数据聚合和分组
- `errorbar()`: 绘制误差棒
- `bar()`: 绘制柱状图

**图表参数**:
- 尺寸: 12×6 英寸 (1200×600像素 @100dpi)
- 分辨率: 300 DPI
- 字体大小: 11pt (坐标轴标签), 12pt (标题)

---

## 📝 文件清单

**更新的文件**:
- `src/plot_generator.py`: 三个绘图函数已更新
- `main.py`: 添加了异常处理

**新增文件**:
- `PLOT_UPDATES.md`: 详细的更新文档
- `demo_dual_axis.py`: 演示脚本
- `DUAL_AXIS_README.md`: 本文件

---

## ✅ 质量检查

所有图表都已验证：
- ✓ 三条曲线（材料）正确显示
- ✓ 垂直误差棒正确显示
- ✓ 颜色编码一致
- ✓ 图例清晰易读
- ✓ 轴标签准确
- ✓ 高分辨率输出 (300 DPI)

---

## 🚀 运行方式

```bash
# 方式 1: 使用主程序
python main.py

# 方式 2: 使用演示脚本
python demo_dual_axis.py
```

两种方式都会在 `plots/` 文件夹中生成三个PNG图表。

---

**Generated on**: 2025-11-23
**Status**: ✓ 完成 / Complete
